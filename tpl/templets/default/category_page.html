<html style="font-size: 41.1px;">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="Content-Language" content="zh-CN">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <title>
        <!--{__ 人气爆款}-->
        <!--{__ LoveNovel}-->
    </title>
    <meta name="keywords" content=" <!--{__ 人气爆款}--> <!--{__ 多语言免费、流行、浪漫、小说,漫画阅读器.}-->">
    <meta name="description" itemprop="description"
        content="<!--{__ 人气爆款}--> <!--{__ LoveNovel一直坚持提供小说漫画免费阅读。看小说、看漫画，为阅读而生，就上LoveNovel}-->">

    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="canonical" href="http://www.love-novel.com/">
    <meta name="applicable-device" content="mobile">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta content="yes" name="apple-touch-fullscreen">
    <meta name="browsermode" content="application">
    <meta name="msapplication-tap-highlight" content="no">
    <meta content="telephone=no" name="format-detection">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="yes" name="mobile-web-app-capable">
    <meta name="apple-mobile-web-app-status-bar-style" content="#999">
    <meta name="screen-orientation" content="portrait">
    <meta name="full-screen" content="yes">
    <meta name="x5-fullscreen" content="true">
    <meta name="360-fullscreen" content="true">
    <meta name="browsermode" content="application">
    <meta name="x5-orientation" content="portrait">
    <meta name="x5-pagetype" content="webapp">

    <script src="<!--{$indextpl}-->js/jquery.min.js"></script>

    <script src="<!--{$static}-->js/night_Trad.v1.0.js"></script>
    <script src="<!--{$indextpl}-->js/web.js"></script>
    <link href="<!--{$indextpl}-->css/vendor.38cae4.css" rel="stylesheet">
    <link href="<!--{$indextpl}-->css/entry.index.53baaf.css" rel="stylesheet">

</head>

<body style="font-size: 12px;">
    <section class="view-port slide-wrap" id="js_searchCenter" style="display: flex;">
        <ul class="list-box" style="padding-bottom: 2rem;">
            <!--{foreach $data as $list}-->
            <li class="list-box__item">
                <a target="__blank" class="list-box__item-wrap" href='<!--{if $list.type==1}-->
                    <!--{url mod="book" args="bookid:{$list.book_id},title:{$list.other_name}"}-->
                    <!--{else}--> <!--{url mod="cartoon" args="bookid:{$list.book_id},title:{$list.other_name}"}-->
                    <!--{/if}-->' title="<!--{$list.other_name}-->">
                    <div class="list-box__item-left"><img src="<!--{$indextpl}-->imgs/space.gif"
                            alt=" <!--{$list.other_name}-->" class="list-box__item-cover"
                            style="background: url(' <!--{$list.bpic}-->') center center / cover no-repeat; opacity: 1;">
                    </div>
                    <div class="list-box__item-center">
                        <p class="list-box__item-title">
                            <!--{$list.other_name}-->
                        </p>
                        <p class="list-box__item-desc">
                            <!--{$list.desc}-->
                        </p>
                        <div class="list-box__item-hot">
                            <span class="fire ift-fire"></span><span class="yi">
                                <!--{$list.read}-->
                            </span>
                            <span>
                                <!--{__ 万}-->
                            </span>

                            <!--{if $list.update_status!=1}-->
                            <span class="upstatus red">
                                <!--{__ 连载}-->
                            </span>
                            <!--{else}--> <span class="upstatus">
                                <!--{__ 完结}-->
                            </span>
                            <!--{/if}-->

                            </span>
                        </div>
                        <div class="list-box__item-tag">
                            <!--{foreach $list.tags as $tag}-->
                            <!--{if $tag}-->
                            <span class="list-box__item-tag-item" tagid='<!--{$tag.id}-->'>
                                <!--{$tag.tag}-->
                            </span>
                            <!--{/if}-->
                            <!--{/foreach}-->
                        </div>
                    </div>

                </a>
            </li>
            <!--{/foreach}-->

            <div class="bottom_">
                <div class="flexCenter-ai-center">

                    <div class="loadimg">
                        <img src="<!--{$indextpl}-->imgs/loading-2.gif">
                        <!--{__ 加载中}-->...
                    </div>
                    <div class="loadend">

                        <!--{__ 没有了}-->
                    </div>
                </div>

            </div>
        </ul>
        <div class="bookboxtmp">
            <li class="list-box__item">
                <a class="list-box__item-wrap" href='<!--{if $list.type==1}-->
                    <!--{url mod="book" args="bookid:{$list.book_id},title:{$list.other_name}"}-->
                    <!--{else}--> <!--{url mod="cartoon" args="bookid:{$list.book_id},title:{$list.other_name}"}-->
                    <!--{/if}-->' title="<!--{$list.other_name}-->" target="__blank">
                    <div class="list-box__item-left"><img src="<!--{$indextpl}-->imgs/space.gif"
                            alt=" <!--{$list.other_name}-->" class="list-box__item-cover"
                            style="background: url(' <!--{$list.bpic}-->') center center / cover no-repeat; opacity: 1;">
                    </div>
                    <div class="list-box__item-center">
                        <p class="list-box__item-title">
                            <!--{$list.other_name}-->
                        </p>
                        <p class="list-box__item-desc">
                            <!--{$list.desc}-->
                        </p>
                        <div class="list-box__item-hot"><span class="fire ift-fire"></span><span class="yi">1.8</span>
                            <span>
                                <!--{__ 万}-->
                            </span>
                            <span class="upstatus">
                                <!--{if $list.update_status!=1}-->
                                <!--{__ 连载}-->
                                <!--{else}-->
                                <!--{__ 完结}-->
                                <!--{/if}-->

                            </span>
                        </div>
                        <div class="list-box__item-tag">
                            <!--{foreach $data.tags as $tag}-->
                            <span class="list-box__item-tag-item" tagid='<!--{$tag.id}-->'>
                                <!--{$tag.tag}-->
                            </span>
                            <!--{/foreach}-->
                        </div>
                    </div>

                </a>
            </li>
        </div>
    </section>

    <style>
        .loadimg {
            display: none;
        }

        .red {
            color: #fc6976;
        }

        .header-wrap {
            -webkit-box-shadow: 0 0 0.2666666667rem 0 rgba(0, 0, 0, .2);
            -moz-box-shadow: 0 0 .2666666667rem 0 rgba(0, 0, 0, .2);
            box-shadow: 0 0 0.2666666667rem 0 rgba(0, 0, 0, .2);
            background-color: #fff;
            /* -webkit-transition: all .4s; */
            -o-transition: all .4s;
            -moz-transition: all .4s;
            transition: all .4s;
        }

        .loadend {
            display: none;
        }

        .bookboxtmp {
            display: none;
        }

        .flexCenter-ai-center {
            display: flex;
            align-content: center;
            width: 100%;
            align-items: center;
            justify-items: center;
            justify-content: center;
            margin: 0.3rem 0;
            color: #ccc;
        }

        .flexCenter-ai-center img {
            width: 20%;
        }

        .list-box {
            position: relative;
            width: 100%;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box;
            padding: 0 .1rem;
            display: block;
            overflow: scroll;
        }

        .list-box .list-box__item {
            height: 2.9866666667rem;
            margin-top: .34rem;
            position: relative
        }

        .list-box .list-box__item:last-child {
            margin-bottom: .34rem
        }

        .list-box .list-box__item-wrap {
            display: -webkit-box;
            display: -webkit-flex;
            display: -moz-box;
            display: -ms-flexbox;
            display: flex
        }

        .list-box .list-box__item-cover {
            -webkit-border-radius: .1066666667rem;
            -moz-border-radius: .1066666667rem;
            border-radius: .1066666667rem;
            width: 2.24rem;
            height: 2.9866666667rem
        }

        .list-box .list-box__item-left {
            margin-right: .32rem
        }

        .list-box .list-box__item-center {
            width: 4.8rem;
            margin-right: .32rem
        }

        .list-box .list-box__item-right {
            position: absolute;
            top: 50%;
            right: 0;
            -webkit-transform: translateY(-50%);
            -moz-transform: translateY(-50%);
            -ms-transform: translateY(-50%);
            -o-transform: translateY(-50%);
            transform: translateY(-50%)
        }

        .list-box .list-box__item-title {
            font-size: .4533333333rem;
            margin-top: .16rem;
            color: #333
        }

        .list-box .list-box__item-desc,
        .list-box .list-box__item-title {
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 2;
            overflow: hidden;
        }

        .list-box .list-box__item-desc {
            margin-top: .1066666667rem;
            font-size: .33rem;
            line-height: .52rem;
            color: #b6b6b6;
            height: 1.0933333333rem;
        }

        .list-box .list-box__item-hot {
            margin-top: .1066666667rem;
            color: #b6b6b6;
            font-size: .2666666667rem
        }

        .list-box .list-box__item-hot .ift-fire {
            font-size: .2933333333rem;
            margin-right: .0533333333rem
        }

        .list-box .list-box__item-hot span {
            vertical-align: bottom
        }

        .list-box .list-box__item-tag {
            margin-top: .24rem;
            font-size: .2666666667rem;
            color: #b6b6b6
        }

        .list-box .list-box__item-tag-item {
            border: .0133333333rem solid #b6b6b6;
            -webkit-border-radius: .1866666667rem;
            -moz-border-radius: .1866666667rem;
            border-radius: .1866666667rem;
            font-size: .2666666667rem;
            padding: .0266666667rem .08rem;
            margin: .0266666667rem
        }

        .list-box .list-box__item-collection {
            width: 1.4933333333rem;
            height: .64rem;
            line-height: .64rem;
            -webkit-border-radius: .32rem;
            -moz-border-radius: .32rem;
            border-radius: .32rem;
            background: #fc6976;
            color: #fff;
            text-align: center
        }

        .list-box .list-box__item-collection.done {
            background: #f5f5f5;
            color: #999
        }

        .list-box .list-box__item-collection.done .ift-add {
            display: none
        }

        .upstatus {
            float: right;
        }

        .list-box__item a {
            display: flex;
            flex-direction: row;
            /* justify-content: space-evenly; */
            /* justify-items: self-end; */
            align-items: flex-end;
        }

        .list-box__item-center {
            display: flex;
            flex-direction: column;
            flex: 1;
            height: 100%;
        }

        .list-box__item-desc {
            flex: 1;
        }
    </style>

    <script>
        //初始化banner高度，宽高比。0.73
        var searchindex = 'searchhis';
        var searchdata, page = 1, have = 1, loadings = 0;
        var searurl = '<!--{url mod="search"}-->?word=';
        Array.prototype.aremove = function (val) {
            var index = this.indexOf(val);
            if (index > -1) {
                this.splice(index, 1);
            }
        };
        function pgscroll() {


            $('.list-box').scroll(function () {
                var scrollTop = $(this).scrollTop();

                var ks_area = $(this).innerHeight();

                //滚动距离总长(注意不是滚动条的长度)  
                nScrollHight = $('body')[0].scrollHeight;
                if (scrollTop + ks_area >= (nScrollHight - 1 * $(window).height())) {
                    loading();
                }
                if (scrollTop + ks_area >= nScrollHight) {
                    loading();
                    showloadbox();
                }
                if ($(this).scrollTop() == 0) {
                }
            });
        }
        function loading() {

            if (!have) return false;
            if (loadings) return false;

            // $word = $('.search-area').val();
            // if (!$word) return false;
            loadings = 1;

            $url = '';
            $data = {
                'page': page++,
                'ajax': 1
                // 'keyword': $word
            };
            yAjax($url, $data, function ($ret) {
                loadings = 0;
                if ($ret['code'] == 1) {
                    $books = $ret['result'];
                    if ($books.length <= 0) {
                        have = 0;
                        //变更加载状态
                        showloadbox();
                    } else {
                        //加载
                        $d = $('.bottom_');
                        $urlbook = "<!--{url mod='book'}-->?bookid=";
                        $urlcartoon = "<!--{url mod='cartoon'}-->?bookid=";
                        $.each($books, function (i, book) {
                            $obj = $('.bookboxtmp').find('.list-box__item').clone();
                            $obj.find('.list-box__item-left>img').attr('src', book.bpic);
                            $obj.find('.list-box__item-desc').text(book.desc);
                            $obj.find('.list-box__item-title').text(book.other_name);
                            $obj.find('.yi').text(book.read);
                            if (book.tags) {
                                $.each(book.tags, function (i, v) {
                                    $tag = $("<span class='list-box__item-tag-item' tagid=''></span > ");
                                    $tag.attr('tagid', v.id);
                                    $tag.text(v.tag);
                                    $obj.find('.list-box__item-tag').append($tag);
                                });
                            }
                            if (book.update_status == 1) {


                                $obj.find('.upstatus').text(' <!--{__ 完结}-->');
                            } else {
                                $obj.find('.upstatus').text(' <!--{__ 连载}-->');
                                $obj.find('.upstatus').addClass('red');
                            }
                            if (book.type == 1) {
                                $url = $urlbook + book.book_id;
                            } else {
                                $url = $urlcartoon + book.book_id;
                            }
                            $obj.find('a').attr('href', $url);
                            $d.before($obj);
                        });
                    }
                } else {
                    showd('error' + $ret['code']);
                }
            });
        }
        function showloadbox() {
            if (have) {
                $('.loadimg').show();
                $('.loadend').hide();
            } else {
                $('.loadimg').hide();
                $('.loadend').show();
            }
        }
        $(function () {
            searchdata = getCookie(searchindex);
            try {
                $str = unescape(searchdata);
                searchdata = jta($str);
            } catch (error) {
                d(error);
                searchdata = [];
            }

            if (!searchdata) {
                searchdata = [];
            } else {
                //加载历史搜索

                // loadhis(searchdata);
            }
            pgscroll();
            $('.js_searchBtn').on('click', function () {

                $txt = $('.search-area').val();
                if (!$txt) {
                    _go_url(searurl);
                    // showd('<!--{__ 请输入查找内容}-->');
                    return false;
                }

                if (searchdata.indexOf($txt) < 0) {

                    searchdata.push($txt);
                    save(searchdata);

                }
                loadhis(searchdata);
                _go_url(searurl + $txt);
            });
            $('.historyDel').on('click', function () {
                d('del');
                seardel($(this));
                // loadhis(searchdata);
            });
            $('.historyClear').on('click', function () {

                delCookie(searchindex);
                searchdata = [];

                loadhis(searchdata);
            });
            $('.history-text').on('click', function () { });
            $('#enter').on('keydown', function (event) {
                if (event.keyCode == 13) {
                    $('.js_searchBtn').click();
                }

            });
        });
        function save(val) {
            // val = encodeURIComponent(val);

            $in = atj(val);

            // $in.replace(/%/g, '%25');

            setCookie(searchindex, $in);
        }
        function seardel($obj) {
            $txt = $obj.attr('data-searched');
            $ob = $obj.parentsUntil('li');
            $ob.parent().remove();
            searchdata.aremove($txt);
            setCookie(searchindex, searchdata);
            save(searchdata);
        }
        function loadhis(his) {
            $obj = $('.tmpSrch').children('li');
            $obj2 = $('.hisSrch-list');
            $obj2.children().remove();
            if (!his) {

                $('.hisSrch').hide();
                return false;
            } else {

                if (his.length <= 0) {

                    $('.hisSrch').hide();
                    return false;
                }
                $('.hisSrch').show();

                $.each(his, function (i, v) {
                    $obj3 = $obj.clone();
                    $obj3.find('.history-text').text(v);
                    $obj3.find('.historyDel').attr('data-searched', v);
                    $obj3.find('a').attr('title', v);
                    $obj3.find('a').attr('href', searurl + v);
                    $obj2.prepend($obj3);
                });
            }

        }
    </script>